[changelog]
body = """

<img src="https://raw.githubusercontent.com/rinlit-233-shiroko/class-widgets-2/main/docs/assets/release_banner.png" width="100%" />

> [!WARNING]
> 目前 Class Widgets 2 仍然处于开发阶段，可能不适用于生产环境。
> 欢迎反馈意见和建议谢谢喵

## Class Widgets 2 更新速递
> [!NOTE]
> 当前版本：`{% if version %}({{ version }}){%- endif -%}`

{% for group, commits in commits | group_by(attribute="group") %}

{% if group != "✨ 新亮点" %}
<details>
<summary><h3>{{ group | upper_first }}</h3></summary>
{% for commit in commits | unique(attribute="message") %}
- {% if commit.scope %}{{ commit.scope }}: {%- endif -%}{{ commit.message | upper_first }}\
  {% if commit.remote.username %} 作者: @{{ commit.remote.username }}{%- endif -%}
  {% if commit.remote.pr_number %} 在 \
[#{{ commit.remote.pr_number }}]({{ self::remote_url() }}/pull/{{ commit.remote.pr_number }}) \
{%- endif %}
{% endfor %}
</details>
{% else %}
### {{ group | upper_first }}
{% for commit in commits | unique(attribute="message") %}
- {% if commit.scope %}{{ commit.scope }}: {%- endif -%}{{ commit.message | upper_first }}\
  {% if commit.remote.username %} 作者: @{{ commit.remote.username }}{%- endif -%}
  {% if commit.remote.pr_number %} 在 \
[#{{ commit.remote.pr_number }}]({{ self::remote_url() }}/pull/{{ commit.remote.pr_number }}) \
{%- endif %}
{% endfor %}
{% endif %}

{% endfor -%}

{% if version %}
  {% if previous.version %}
**完整 Changelog**: {{ self::remote_url() }}/compare/{{ previous.version }}...{{ version }}
  {% endif %}
{% else -%}
  {% raw %}\n{% endraw %}
{% endif %}

{%- macro remote_url() -%}
  https://github.com/rinlit-233-shiroko/class-widgets-2
{%- endmacro -%}

> [!TIP]
> 对于不方便使用 GitHub 的用户，欢迎使用 123 网盘来下载测试版本
> [Class Widgets 2 下载](https://www.123912.com/s/DCyBTd-3iWxH) （无密码，以后的测试版也会持续同步至本链）

"""
trim = true
footer = "<!-- generated by git-cliff -->"
output = "CHANGELOG.md"


[git]
conventional_commits = true
filter_unconventional = true
split_commits = false
commit_parsers = [
    { message = "^feat", group = "✨ 新亮点"},
    { message = "^fix", group = "🛠️ 修复的问题"},
    { message = "^refactor", group = "🔃 功能重构"},
    { message = "^docs", group = "📄 文档更新"},
    { message = "^style", group = "🏞️ 样式优化"},
]
protect_breaking_commits = false
filter_commits = true
topo_order = false
sort_commits = "oldest"
link_parsers = []
